<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Pushing Data to Dashing.io from PowerShell - i-py.com</title><link rel="icon" type="image/png" href=icons/myicon.png /><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="Pushing Data to Dashing.io from PowerShell" />
<meta property="og:description" content="Dashing.io; super cool, and pretty fly. Easy enough to configure a quick and small linux VM to host it. But how about pushing data to it, from Powershell? The key is Invoke-RestMethod- Let&rsquo;s look at two of the simple built in widgets:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://i-py.com/posts/2015-09-04-pushing-data-dashing-io-powershell/" />
<meta property="article:published_time" content="2015-08-20T12:32:30-05:00" />
<meta property="article:modified_time" content="2015-08-20T12:32:30-05:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Pushing Data to Dashing.io from PowerShell"/>
<meta name="twitter:description" content="Dashing.io; super cool, and pretty fly. Easy enough to configure a quick and small linux VM to host it. But how about pushing data to it, from Powershell? The key is Invoke-RestMethod- Let&rsquo;s look at two of the simple built in widgets:"/>
<link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:200,300" rel="stylesheet">

	<link rel="stylesheet" type="text/css" media="screen" href="https://i-py.com/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://i-py.com/css/main.css" />
	<link rel="stylesheet" type="text/css" href="https://i-py.com/css/custom.css" />
	

	
	<script src="https://i-py.com/js/main.js"></script>
	<script src="https://i-py.com/js/abc.js"></script>
	<script src="https://i-py.com/js/xyz.js"></script>
	<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
</head>

<body>
	<div class="container wrapper post">
		<div class="header">
	<base href="https://i-py.com/">
	<h1 class="site-title"><a href="https://i-py.com/">i-py.com</a></h1>
	<div class="site-description"><h2>Technical Blog of Francis Setash</h2><nav class="nav social">
			<ul class="flat"></ul>
		</nav>
	</div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="/">Home</a>
			</li>
			
			<li>
				<a href="/posts">All posts</a>
			</li>
			
			<li>
				<a href="/about">About</a>
			</li>
			
			<li>
				<a href="/tags">Tags</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post-header">
			<h1 class="title">Pushing Data to Dashing.io from PowerShell</h1>
			<div class="meta">Posted on &mdash; Aug 20, 2015</div>
		</div>

		<div class="markdown">
			<p>Dashing.io; super cool, and pretty fly. Easy enough to configure a quick and small linux VM to host it. But how about pushing data to it, from Powershell? The key is Invoke-RestMethod- Let&rsquo;s look at two of the simple built in widgets:</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#268bd2">li</span> data-row<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;1&#34;</span> data-col<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;1&#34;</span> data-sizex<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;1&#34;</span> data-sizey<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;2&#34;</span>&gt;
      &lt;<span style="color:#268bd2">div</span> data-id<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;buzzwords&#34;</span> data-view<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;List&#34;</span> data-unordered<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;true&#34;</span> data-title<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;Buzzwords&#34;</span> data-moreinfo<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;# of times said around the office&#34;</span>&gt;&lt;/<span style="color:#268bd2">div</span>&gt;
    &lt;/<span style="color:#268bd2">li</span>&gt;

    &lt;<span style="color:#268bd2">li</span> data-row<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;1&#34;</span> data-col<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;1&#34;</span> data-sizex<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;1&#34;</span> data-sizey<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;1&#34;</span>&gt;
      &lt;<span style="color:#268bd2">div</span> data-id<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;valuation&#34;</span> data-view<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;Number&#34;</span> data-title<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;Current Valuation&#34;</span> data-moreinfo<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;In billions&#34;</span> data-prefix<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;$&#34;</span>&gt;&lt;/<span style="color:#268bd2">div</span>&gt;
    &lt;/<span style="color:#268bd2">li</span>&gt;
</code></pre></div><p>How would we push to these, assuming there&rsquo;s no Dashing.io jobs running? 
<strong>For the Number Value (valuation):</strong></p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell"><span style="color:#268bd2">$uri</span> = <span style="color:#2aa198">&#34;http://hostname.domain.tld:3030/widgets/valuation&#34;</span>
<span style="color:#268bd2">$body</span> = @{
    auth_token = <span style="color:#2aa198">&#34;YOUR_AUTH_TOKEN&#34;</span>;
    current=<span style="color:#cb4b16">[int]</span><span style="color:#268bd2">$value</span>
}

<span style="color:#b58900">Invoke-RestMethod</span> -Method Post -Uri <span style="color:#2aa198">&#34;$uri&#34;</span> -Body (<span style="color:#b58900">ConvertTo-Json</span> <span style="color:#268bd2">$body</span>)&lt;/pre&gt;
</code></pre></div><p><strong>For the List Value</strong> (buzzwords): <em>A bit more complicated; but doable</em></p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell"><span style="color:#268bd2">$auth_token</span> = <span style="color:#2aa198">&#34;YOUR_AUTH_TOKEN&#34;</span>
<span style="color:#268bd2">$dashing</span> = <span style="color:#2aa198">&#34;http://hostname.domain.tld:3030/widgets/buzzwords&#34;</span>

<span style="color:#268bd2">$items</span> = @()
<span style="color:#268bd2">$items</span> += @{label = <span style="color:#2aa198">&#34;item 1&#34;</span>; value = <span style="color:#2aa198">&#34;value&#34;</span>}
<span style="color:#268bd2">$items</span> += @{label = <span style="color:#2aa198">&#34;item 2&#34;</span>; value = <span style="color:#2aa198">&#34;value2&#34;</span>}

<span style="color:#268bd2">$props</span> = <span style="color:#cb4b16">[ordered]</span>@{
auth_token = <span style="color:#2aa198">&#34;$auth_token&#34;</span>
items = <span style="color:#268bd2">$items</span>
}

<span style="color:#268bd2">$body</span> = <span style="color:#b58900">New-Object</span> -TypeName PSOBject -Property <span style="color:#268bd2">$props</span>

<span style="color:#b58900">ConvertTo-Json</span> -InputObject <span style="color:#268bd2">$body</span>

<span style="color:#b58900">Invoke-RestMethod</span> -Uri <span style="color:#2aa198">&#34;$dashing&#34;</span> -Method Post -Body (<span style="color:#b58900">ConvertTo-Json</span> <span style="color:#268bd2">$body</span>)&lt;/pre&gt;
</code></pre></div><p>Pretty quick update; keeping it vague as implementation gets pretty environment specific pretty quickly! � But, one other note - if you wanted to test a simple true/false for a server being alive:</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell"><span style="color:#b58900">Test-Connection</span> -ComputerName hostname -Quiet
<span style="color:#586e75">#This will return a true/false value! Awesome for quick testing.&lt;/pre&gt;</span>
</code></pre></div><p>Now go make some more dashboards.</p>
		</div>

		<div class="post-tags">
			
				
					<nav class="nav tags">
							<ul class="flat">
								
								<li><a href="/tags/powershell">powershell</a></li>
								
							</ul>
					</nav>
				
			
		</div>
		</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div> All Content Copyright © - Francis Setash   </div>
	</nav>
</div>




</body>
</html>
